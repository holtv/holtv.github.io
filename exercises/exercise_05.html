<!DOCTYPE html>
<html class="writer-html5" lang="de">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>5. Übung &mdash; IPP - Ingenieurwissenschaftliches Programmieren mit Python 0.1 Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=9d4e32a3"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/translations.js?v=70a09b52"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="6. Übung" href="exercise_06.html" />
    <link rel="prev" title="4. Übung" href="exercise_04.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IPP - Ingenieurwissenschaftliches Programmieren mit Python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Inhalt:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">Grundlagen der Programmierung</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../exer.html">Übungen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="exercise_01.html">1. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_02.html">2. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_03.html">3. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_04.html">4. Übung</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5. Übung</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#beispiel-5-1">Beispiel 5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#numerical-python-numpy">Numerical Python (NumPy)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#aufgabe-5-1">Aufgabe 5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aufgabe-5-1-1">Aufgabe 5.1.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aufgabe-5-1-2">Aufgabe 5.1.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aufgabe-5-1-3">Aufgabe 5.1.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#beispiel-5-2">Beispiel 5.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vektor-und-matrizenrechnung-mit-numpy">Vektor- und Matrizenrechnung mit <em>NumPy</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#aufgabe-5-2">Aufgabe 5.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="exercise_06.html">6. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_07.html">7. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_08.html">8. Übung</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise_09.html">9. Übung</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IPP - Ingenieurwissenschaftliches Programmieren mit Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../exer.html">Übungen</a></li>
      <li class="breadcrumb-item active">5. Übung</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/exercises/exercise_05.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ubung">
<h1>5. Übung<a class="headerlink" href="#ubung" title="Permalink to this heading"></a></h1>
<section id="beispiel-5-1">
<h2>Beispiel 5.1<a class="headerlink" href="#beispiel-5-1" title="Permalink to this heading"></a></h2>
<section id="numerical-python-numpy">
<h3>Numerical Python (NumPy)<a class="headerlink" href="#numerical-python-numpy" title="Permalink to this heading"></a></h3>
<p>In den bisherigen Übungen haben wir zwar schon ein wenig mit Python gerechnet und haben auch bereits Listen und Tupel als Datenstrukturen kennengelernt. Aber so richtig gut ist Python von Haus aus nicht für numerische Aufgaben geeignet. Denn im (ingenieur-)wissenschaftlichen Bereich wenden wir meist Vektor- und Matrizenrechnung an und benutzen dabei jede Menge spezialisierte mathematische Funktionen jenseits von Sinus und Cosinus. (Einer der Gründe für den Erfolg von MATLAB(=MATrix LABoratory) ist dessen Fähigkeit originär mit Matrizen rechnen zu können und eine Unmenge an Spezialfunktionen (Toolboxen) für viele technische Bereiche anzubieten.)</p>
<p>Für Anwendungen in diesem Bereich gibt es in Python die Bibliothek <a class="reference external" href="https://numpy.org/">NumPy</a>, deren Entwicklung 1995 begonnen hat und die - ebenso wie die Matplotlib - einen immensen Funktionsumfang enthält. Auf der NunPy-Bibliothek bauen wiederum viele weitere Bibliotheken auf. <em>NumPy</em> zählt aber ebenfalls nicht zur Standard-Distribution, so dass wir auch diese Bibliothek nachzuinstallieren haben:</p>
<p>Unter Windows geben wir folgende Kommandozeile ein:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; pip install numpy
</pre></div>
</div>
<p>Unter Linux und MacOS hingegen:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ pip3 install numpy
</pre></div>
</div>
<p>Beim Installieren werden wir wahrscheinlich sinngemäß die Meldung erhalten, dass „nichts installiert wurde, weil das Modul bereits vorhanden ist“. Die Erklärung dafür ist einfach, denn da die <em>Matplotlib</em> auf <em>Numpy</em> aufbaut, wurde es bei der Installation der <em>Matplotlib</em> durch <em>pip</em> gleich mit installiert.</p>
<p>Ein kleiner Auszug der besonderen Merkmale von <em>NumPy</em>:</p>
<ol class="arabic simple">
<li><p>Es stellt eine Reihe elementarer Datentypen bereit, so dass man anwendungsbezogen den am besten passenden Datentyp wählen kann:</p>
<ul class="simple">
<li><p>Integer-Werte mit 8 - 256-Bit Auflösung mit/ohne Vorzeichen</p></li>
<li><p>Float-Werte mit 16 - 256-Bit Auflösung</p></li>
</ul>
</li>
<li><p>Es lassen sich aus den elementaren Datentypen</p>
<ul class="simple">
<li><p>Vektoren und (mehrdimensionale) Matrizen in der Form von Arrays bilden, wobei alle Elemente immer den gleichen Datentyp haben</p></li>
<li><p>Strukturierte Arrays bilden, die mehrere benamte Werte des gleichen oder unterschiedlichen Datentyps zusammenfassen (ähnlich den <em>structs</em> in C)</p></li>
</ul>
</li>
<li><p>Es stellt eine Vielzahl an Funktionen bereit, die auf den Datentypen und auf den daraus gebildeten Arrays arbeiten (z.B. zur Matrizenmultiplikation)</p></li>
</ol>
<p>Der wesentlichste Vorteil von <em>NumPy</em> ist tatsächlich die Möglichkeit mehrdimensionale Arrays eines definierten Datentyps zu bilden. Nur durch diese Eigenschaft ist es möglich hocheffiziente Funktionen in <em>NumPy</em> bereitzustellen, die mit ganzen Vektoren und Matrizen auf einmal umgehen können.</p>
<div class="admonition-python-interpreter-und-bibliotheken admonition">
<p class="admonition-title">Python-Interpreter und -Bibliotheken</p>
<p>Hinter der Effizienz von <em>NumPy</em> verbirgt sich ganz einfach, dass die   <em>NumPy</em>-Aufrufe sämtlich in C geschriebene Funktionen sind, die hochoptimiert sind und von der Laufzeit her viel schneller ausgeführt werden als originärer Python-Code.</p>
<p>Und, um das Ganze noch zu komplettieren: Auch der Python-Interpreter selbst ist wie auch alle anderen Bibliotheken in der Programmiersprache C/C++ programmiert.</p>
</div>
<p>Wir werden uns der <em>NumPy</em>-Bibliothek - wie üblich - Schritt-für-Schritt nähern. Was wäre für einen ersten Versuch besser geeignet als unsere &quot;altbekannte“ und &quot;vertraute“ Sinus-Berechnung:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># ---- Berechnung --------</span>
<span class="linenos"> 5</span><span class="c1"># 2 np-arrays mit Nullen vom Typ np.float32 anlegen</span>
<span class="hll"><span class="linenos"> 6</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 7</span><span class="n">sin_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1"># Schrittweite für 100 Schritte im Intervall 0..2PI</span>
<span class="hll"><span class="linenos">10</span><span class="n">dx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">100</span>
</span><span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># x-Startwert für die for-Schleife</span>
<span class="linenos">13</span><span class="n">curr_x</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># und jetzt über alle 100 Schritte iterieren</span>
<span class="linenos">16</span><span class="k">for</span> <span class="n">i_n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
<span class="linenos">17</span>  <span class="n">x</span><span class="p">[</span><span class="n">i_n</span><span class="p">]</span> <span class="o">=</span> <span class="n">curr_x</span>
<span class="hll"><span class="linenos">18</span>  <span class="n">sin_x</span><span class="p">[</span><span class="n">i_n</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i_n</span><span class="p">])</span>
</span><span class="linenos">19</span>  <span class="n">curr_x</span> <span class="o">+=</span> <span class="n">dx</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># ---- Anzeige --------</span>
<span class="linenos">22</span><span class="c1"># figure anlegen</span>
<span class="linenos">23</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="c1"># dann plotten</span>
<span class="hll"><span class="linenos">26</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin_x</span><span class="p">)</span>
</span><span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># und anzeigen</span>
<span class="linenos">29</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Was im Code grundsätzlich passiert, sollte nach den vorherigen Übungen keiner besonderen Erklärung mehr bedürfen - bis auf die <em>NumPy</em>-Spezialitäten.</p>
<dl class="simple">
<dt>Zeilen 6 und 7:</dt><dd><p>Mit <em>np.zeros()</em> erzeugen wir ein Array mit 100 Datenelementen, von denen jedes einen <em>32-Bit-float</em>-Wert aufnehmen kann. Wir können den Elementen des Arrays keine unterschiedlichen Datentypen zuweisen und den Datentyp auch nicht einfach so im Programm komplett ändern.</p>
</dd>
<dt>Zeilen 10 und 18:</dt><dd><p>Hier sehen wir, dass <span class="math notranslate nohighlight">\(\pi\)</span> in <em>NumPy</em> ebenfalls definiert ist und es auch eine <em>sin()</em>-Funktion in <em>NumPy</em> gibt, die zunächst mal so aussieht, wie die <em>sin()</em>-Funktion im <em>math</em>-Modul.</p>
</dd>
<dt>Zeile 26:</dt><dd><p>Auch die <em>Matplotlib</em> kann mit <em>NumPy</em>-Arrays umgehen, wenn wir diese als Argument übergeben.</p>
</dd>
</dl>
<p>Unser erster Eindruck ist also: läuft, sieht aber nach nichts Besonderem aus. Dann schauen wir mal auf eine zweite Realisierung der gleichen Aufgabe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># ---- Berechnung --------</span>
<span class="linenos"> 5</span><span class="c1"># x als np-array mit 100 Werten im Intervall 0..2 PI anlegen ...</span>
<span class="hll"><span class="linenos"> 6</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># ... und den Sinus für alle Werte von x berechnen</span>
<span class="hll"><span class="linenos"> 9</span><span class="n">sin_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span><span class="linenos">10</span>
<span class="linenos">11</span><span class="c1"># ---- Anzeige --------</span>
<span class="linenos">12</span><span class="c1"># figure anlegen</span>
<span class="linenos">13</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># dann plotten</span>
<span class="linenos">16</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin_x</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="c1"># und anzeigen</span>
<span class="linenos">19</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Das sieht jetzt schon etwas anders aus, denn:</p>
<dl class="simple">
<dt>Zeile 6:</dt><dd><p>Hier erzeugen wir <em>x</em> mit der Funktion <em>np.linspace()</em>, dass uns in diesem Fall 100 Werte im Intervall zwischen <span class="math notranslate nohighlight">\(0 \dots \pi\)</span> liefert.</p>
</dd>
<dt>Zeile 9:</dt><dd><p>Die Funktion <em>np.sin()</em> ist doch schlauer als wir dachten, die kann nämlich den Sinus für alle Werte in <em>x</em> auf einmal berechnen. (Dahinter steckt aber auch eine Programmschleife, allerdings eine <strong>schnelle</strong> Schleife in C und keine &quot;langsame“ wie in Python.)</p>
</dd>
</dl>
<p>So wie die Sinus-Funktion auf einem ganzen Vektor (oder auch ganzen Matrizen) arbeitet, können wir auch andere Rechenoperation der Matrixrechnung anwenden. Wenn wir die Zeile 9 folgendermaßen modifizieren:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sin_x</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>erhalten wir eine Sinusschwingung mit der halben Amplitude, der doppelten Frequenz und einer Phasenverschiebung von <span class="math notranslate nohighlight">\(\pi/4\)</span>. Auch hier wird die Multiplikation bzw. die Addition mit einem Skalar von <em>NumPy</em> auf alle Elemente des Arrays angewendet.</p>
</section>
</section>
<section id="aufgabe-5-1">
<h2>Aufgabe 5.1<a class="headerlink" href="#aufgabe-5-1" title="Permalink to this heading"></a></h2>
<p>Als erste Aufgabe zum Warmwerden mit <em>NumPy</em> bleiben wir in unserer vertrauten Welt der trigonometrischen Funktionen.</p>
<section id="aufgabe-5-1-1">
<h3>Aufgabe 5.1.1<a class="headerlink" href="#aufgabe-5-1-1" title="Permalink to this heading"></a></h3>
<div class="admonition-to-do admonition">
<p class="admonition-title">To Do</p>
<p>Es ist ein Programm zu erstellen, dass die drei folgenden trigonometrischen Funktionen im Intervall <span class="math notranslate nohighlight">\(0 \dots 2\pi\)</span> wie in der Tabelle angegeben darstellt:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Funktion</p></th>
<th class="head"><p>Farbe</p></th>
<th class="head"><p>Linienart</p></th>
<th class="head"><p>Marker</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\sin(x)\)</span></p></td>
<td><p>rot</p></td>
<td><p>durchgezogen</p></td>
<td><p>(ohne)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\sin(3x)\)</span></p></td>
<td><p>blau</p></td>
<td><p>gestrichelt</p></td>
<td><p>(ohne)</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\sin^2(x)\)</span></p></td>
<td><p>schwarz</p></td>
<td><p>(ohne)</p></td>
<td><p>+</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li><p>Die drei Funktionen sollen alle drei in einem gemeinsamen Plot dargestellt werden.</p></li>
<li><p>Der Plot soll mit einem Raster, einer Achsenbeschriftung und einer Legende versehen werden.</p></li>
<li><p>Zur Berechnung der Funktionen sind <em>NumPy</em>-Datentypen und -Funktionen zu verwenden.</p></li>
<li><p>Das Programm soll aus einem Hauptprogramm und zwei Funktionen bestehen:</p>
<ol class="arabic simple">
<li><p>Funktion zur Berechnung der drei Sinus-Funktionen</p></li>
<li><p>Funktion zur Plot-Ausgabe</p></li>
</ol>
</li>
<li><p>Das Programm soll eine Meldung, was es macht, beginnen und an den entscheidenden Stellen Kommentare zum Verständnis enthalten.</p></li>
</ol>
</div>
<p>Lösungshinweise:</p>
<ol class="arabic simple">
<li><p>Die Berechnung der drei Sinus-Funktionen kann analog zu Beispiel 5.1, also auf das ganze Array angewendet, erfolgen.</p></li>
<li><p>Das Plotten mehrerer Kurven in dieselben Achsen kann einfach durch aufeinanderfolgende Aufrufe der <em>plot()</em>-Funktion mit jeweils anderen Parametern erfolgen. Alternativ können auch mehrere Datensätze in einem <em>plot()</em>-Aufruf übergeben werden - einfach herausfinden, wie beides geht!</p></li>
</ol>
</section>
<section id="aufgabe-5-1-2">
<h3>Aufgabe 5.1.2<a class="headerlink" href="#aufgabe-5-1-2" title="Permalink to this heading"></a></h3>
<div class="admonition-to-do admonition">
<p class="admonition-title">To Do</p>
<p>In Abänderung der Aufgabe 5.1.1 soll die grafische Darstellung der drei Funktionen nun wie folgt gestaltet werden:</p>
<ol class="arabic simple">
<li><p>Die drei Funktionen sollen jeweils in <strong>einem</strong> Subplot eines gemeinsamen Figures untereinander dargestellt werden.</p></li>
<li><p>Die Plots sollen jeweils mit einem Raster, einer Achsenbeschriftung und einer Legende versehen werden.</p></li>
<li><p>(Die sonstigen Parameter zur grafischen Darstellung entsprechen weiter den Vorgaben der Tabelle in Aufgabe 5.1.1.)</p></li>
</ol>
</div>
<p>Lösungshinweise:</p>
<ol class="arabic simple">
<li><p>Um mehrere (Sub-)Plots in einem Fenster darzustellen, kann man die gewünschte Anzahl und Anordnung der Fenster beim Anlegen des Plot-Fenster durch <em>subplots()</em> als Parameter übergeben. Wenn wir keinen Wert übergeben, wird der Defaultwert(=1) zur Erzeugung eines Plots im Figure angenommen.</p></li>
<li><p>Beim Anlegen mehrerer Subplots liefert die Funktion <em>subplots()</em> ein Array zurück, bei dem jeder Eintrag den Achsen eines der Subplots entspricht.</p></li>
</ol>
</section>
<section id="aufgabe-5-1-3">
<h3>Aufgabe 5.1.3<a class="headerlink" href="#aufgabe-5-1-3" title="Permalink to this heading"></a></h3>
<div class="admonition-to-do admonition">
<p class="admonition-title">To Do</p>
<p>Als letztes soll das Programm um drei weitere Funktionen ergänzt werden:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Funktion</p></th>
<th class="head"><p>Farbe</p></th>
<th class="head"><p>Linienart</p></th>
<th class="head"><p>Marker</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\sin(10x) \cdot \exp^{-0.5x}\)</span></p></td>
<td><p>blau</p></td>
<td><p>durchgezogen</p></td>
<td><p>(ohne)</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(+\exp^{-0.5x}\)</span></p></td>
<td><p>blau</p></td>
<td><p>gestrichelt</p></td>
<td><p>(ohne)</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(-\exp^{-0.5x}\)</span></p></td>
<td><p>blau</p></td>
<td><p>gestrichelt</p></td>
<td><p>(ohne)</p></td>
</tr>
</tbody>
</table>
<p>Anmerkung: Die beiden unteren Funktionen stellen die sog. &quot;Einhüllende“ der abklingenden Sinus-Schwingung dar.</p>
<ol class="arabic simple">
<li><p>Die drei Funktionen sollen alle drei in einem gemeinsamen Subplot dargestellt werden.</p></li>
<li><p>Das Plotfenster ist auf vier Plots in [2x2]-Matrix-Anordnung zu erweitern.</p></li>
<li><p>Jeder der Plots soll mit einem Raster, einer Achsenbeschriftung und einer Legende versehen werden.</p></li>
<li><p>Zur Berechnung der Funktionen sind <em>NumPy</em>-Datentypen und -Funktionen zu verwenden.</p></li>
</ol>
</div>
<p>Lösungshinweise:</p>
<ol class="arabic simple">
<li><p>Wenn man es geschickt anstellt muss man die Exponentialfunktion nur einmal berechnen und kann sie dann an drei Stellen mit entsprechenden Vorzeichen einsetzen.</p></li>
<li><p>Um mehrere Plots in einem Figure sowohl neben- wie untereinander anzuordnen übergibt man die Anordnung in Matrixnotation als Tupel <em>(Zeilen, Spalten)</em> und erhält auch die Achsen als zweidimensionales Array zurück.</p></li>
</ol>
</section>
</section>
<section id="beispiel-5-2">
<h2>Beispiel 5.2<a class="headerlink" href="#beispiel-5-2" title="Permalink to this heading"></a></h2>
<section id="vektor-und-matrizenrechnung-mit-numpy">
<h3>Vektor- und Matrizenrechnung mit <em>NumPy</em><a class="headerlink" href="#vektor-und-matrizenrechnung-mit-numpy" title="Permalink to this heading"></a></h3>
<p><em>NumPy</em> ist <strong>DIE</strong> Bibliothek für numerische Berechnungen mit Python. Es ist in seiner Funktionalität mehr oder weniger stark an das kommerzielle Tool <em>MATLAB</em> angelehnt. Aufgrund der &quot;sauberen“ Integration in die Programmiersprache Python ist die Integration der Matrizenrechnung nicht ganz so umfassend und transparent wie es in <em>MATLAB</em> der Fall ist.</p>
<section id="anlegen-von-numpy-datenstrukturen">
<h4>Anlegen von <em>NumPy</em>-Datenstrukturen<a class="headerlink" href="#anlegen-von-numpy-datenstrukturen" title="Permalink to this heading"></a></h4>
<p>Im Folgenden schauen wir uns beispielhaft an, wie man mit <em>NumPy</em> Datenstrukturen anlegt und wie man diese in Rechnungen nutzt. Zunächst geht es also um das Anlegen von leeren oder vorbesetzten Vektoren und Matrizen:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v1</span><span class="p">))</span>
<span class="linenos"> 7</span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="linenos">11</span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v2</span><span class="p">))</span>
<span class="linenos">12</span><span class="nb">print</span><span class="p">(</span><span class="n">v2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">13</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">14</span><span class="n">v3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="linenos">15</span><span class="nb">print</span><span class="p">(</span><span class="n">v3</span><span class="p">)</span>
<span class="linenos">16</span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v3</span><span class="p">))</span>
<span class="linenos">17</span><span class="nb">print</span><span class="p">(</span><span class="n">v3</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">18</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">v4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">20</span><span class="nb">print</span><span class="p">(</span><span class="n">v4</span><span class="p">)</span>
<span class="linenos">21</span><span class="nb">print</span><span class="p">(</span><span class="n">v4</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">22</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">23</span><span class="n">m1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>
<span class="linenos">24</span><span class="nb">print</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="linenos">25</span><span class="nb">print</span><span class="p">(</span><span class="n">m1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">26</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">27</span><span class="n">m2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>
<span class="linenos">28</span><span class="nb">print</span><span class="p">(</span><span class="n">m2</span><span class="p">)</span>
<span class="linenos">29</span><span class="nb">print</span><span class="p">(</span><span class="n">m2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">30</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">31</span><span class="n">m3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>
<span class="linenos">32</span><span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="p">)</span>
<span class="linenos">33</span><span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">34</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">35</span><span class="n">v5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">])</span>
<span class="linenos">36</span><span class="nb">print</span><span class="p">(</span><span class="n">v5</span><span class="p">)</span>
<span class="linenos">37</span><span class="nb">print</span><span class="p">(</span><span class="n">v5</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="linenos">38</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">39</span><span class="n">v6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="linenos">40</span><span class="nb">print</span><span class="p">(</span><span class="n">v6</span><span class="p">)</span>
<span class="linenos">41</span><span class="nb">print</span><span class="p">(</span><span class="n">v6</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
<p>Wie wir anhand des Programmbeispiels und dessen Ausführung sehen, können wir Arrays sowohl mit Nullen oder Einsen gefüllt anlegen oder aber auch eine Liste mit Initialisierungswerten übergeben. Beim Anlegen können wir die Dimensionen und auch den Datentyp (<em>dtype</em>) vorgeben. Geben wir keinen Datentyp vor, so wählt <em>NumPy</em> bei Übergabe einer Liste einen passenden Datentyp aus, ansonsten wird als Standard-Datentyp <em>np.float64</em> gewählt. Wir können aber auch eine Einheitsmatrix (<em>np.eye()</em>) erzeugen oder uns ein neues Array &quot;nach Vorlage“ (<em>np.zeros_like()</em> oder <em>np.ones_like()</em>) erzeugen lassen.</p>
<p>Das Hauptaugenmerk bei den <em>NumPy</em>-Datenstrukturen ist es, diese möglichst kompatibel zu den in der Programmiersprache C verwendeten Datentypen zu halten, da die <em>NumPy</em>-Bibliothek selber in C geschrieben ist. Über die gezeigten Datenstrukturen mit Arrays des gleichen Datentyps gibt es auch noch sogenannte strukturierte Arrays, die den <em>structs</em> aus C entsprechen, die für uns im Moment aber noch nicht von Interesse sind.</p>
</section>
<section id="id1">
<h4>Vektor- und Matrizenrechnung mit <em>NumPy</em><a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
<p>Als nächstes Werfen wir einen exemplarischen Blick auf einige elementare Rechenoperationen mit Vektoren und Matrizen:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Anlegen von 2 Vektoren&#39;</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v1= &#39;</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v2= &#39;</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Anlegen einer Matrix&#39;</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">m1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="linenos">12</span>               <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="linenos">13</span>               <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="linenos">14</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m1= &#39;</span><span class="p">,</span> <span class="n">m1</span><span class="p">)</span>
<span class="linenos">15</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">16</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Matrixmultiplikation&#39;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">v3a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">m1</span><span class="p">)</span>
<span class="linenos">18</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v1*m1= &#39;</span><span class="p">,</span> <span class="n">v3a</span><span class="p">)</span>
<span class="linenos">19</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">20</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Elementweise Multiplikation&#39;</span><span class="p">)</span>
<span class="linenos">21</span><span class="n">v3b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">m1</span><span class="p">)</span>
<span class="linenos">22</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v1.*m1= &#39;</span><span class="p">,</span> <span class="n">v3b</span><span class="p">)</span>
<span class="linenos">23</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">24</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Matrix transponieren&#39;</span><span class="p">)</span>
<span class="linenos">25</span><span class="n">m2</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="linenos">26</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m1: &#39;</span><span class="p">,</span> <span class="n">m1</span><span class="p">)</span>
<span class="linenos">27</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m2: &#39;</span><span class="p">,</span> <span class="n">m2</span><span class="p">)</span>
<span class="linenos">28</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">29</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Matrixmultiplikation mit der Transponierten&#39;</span><span class="p">)</span>
<span class="linenos">30</span><span class="n">v4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">m1</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>
<span class="linenos">31</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v1*m1</span><span class="se">\&#39;</span><span class="s1">= &#39;</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span>
<span class="linenos">32</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">33</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Vektor-/Matrix-Addition&#39;</span><span class="p">)</span>
<span class="linenos">34</span><span class="n">v5</span> <span class="o">=</span> <span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span>
<span class="linenos">35</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v5= &#39;</span><span class="p">,</span> <span class="n">v5</span><span class="p">)</span>
<span class="linenos">36</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">37</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Vektor-/Matrix-Addition verschachtelt mit Matrixmultiplikation&#39;</span><span class="p">)</span>
<span class="linenos">38</span><span class="n">v6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">((</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">),</span> <span class="n">m2</span><span class="p">)</span>
<span class="linenos">39</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;v6= &#39;</span><span class="p">,</span> <span class="n">v6</span><span class="p">)</span>
<span class="linenos">40</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
<span class="linenos">41</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Multiplikation von 2 Matrizen&#39;</span><span class="p">)</span>
<span class="linenos">42</span><span class="n">m3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">)</span>
<span class="linenos">43</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m1*m2= &#39;</span><span class="p">,</span> <span class="n">m3</span><span class="p">)</span>
<span class="linenos">44</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------------------&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Anhand der dargestellten Operationen sehen wir, dass die Matrizenoperationen i.d.R. durch Funktionsaufrufe (teilweise in objektorientierter Notation) realisiert werden. Die Addition/Subtraktion von Vektoren und Matrizen kann auch mit den bekannten Opertoren '+‘ und '-‘ dargestellt werden. Der Multiplikatiosoperator '*‘ ist zwar auch definiert, da es aber sowohl den Fall der &quot;echten“ Matrixmultiplikation (Funktion <em>np.matmul()</em>) als auch der elementweisen Multiplikation (Funktion <em>np.multiply()</em>) gibt, kann es hier zu Mißverständnissen und Verwirrungen kommen. Es ist nämlich für Ungeübte keineswegs trivial zu erkennen, wie <em>NumPy</em> die Operation interpretiert. Bei Unklarheiten empfiehlt es sich unbedingt, dies in der Python-Shell oder mit einem kleinen Testprogramm auszuprobieren!</p>
</section>
</section>
</section>
<section id="aufgabe-5-2">
<h2>Aufgabe 5.2<a class="headerlink" href="#aufgabe-5-2" title="Permalink to this heading"></a></h2>
<p>In dieser Aufgabe soll der Beschleunigungsvorgang eines in einer Dimension beweglichen Objekts simuliert werden. Die Beschleunigungswerte sollen aus einer Datei eingelesen werden, die nach folgendem Muster aufgebaut ist:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(t\ [s]\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(\Delta a\ [m/s^2]\)</span></p></th>
<th class="head"><p>Kommentar</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.0</p></td>
<td><p>+1.0</p></td>
<td><p><span class="math notranslate nohighlight">\(a = a+\Delta a = +1.0m/s^2\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>15.5</p></td>
<td><p>-1.0</p></td>
<td><p><span class="math notranslate nohighlight">\(a = a+\Delta a = +0.0m/s^2\)</span></p></td>
</tr>
<tr class="row-even"><td><p>30.5</p></td>
<td><p>+0.5</p></td>
<td><p><span class="math notranslate nohighlight">\(a = a+\Delta a = +0.5m/s^2\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>41.0</p></td>
<td><p>-2.5</p></td>
<td><p><span class="math notranslate nohighlight">\(a = a+\Delta a = -2.0m/s^2\)</span></p></td>
</tr>
<tr class="row-even"><td><p>50.0</p></td>
<td><p>+2.0</p></td>
<td><p><span class="math notranslate nohighlight">\(a = a+\Delta a = +0.0m/s^2\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>60.0</p></td>
<td><p>+0.0</p></td>
<td><p>Endzeitpunkt</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Anhand der Tabelle für die Beschleunigungsänderungen lässt sich die Bewegung anhand der kinematischen Beziehungen berechnen. In kontinuierlicher Form lauten diese:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
  s(t) &amp;=&amp; \int v(t) dt \\
  v(t) &amp;=&amp; \int a(t) dt \\
  a(t) &amp;=&amp; u(t) \ \ \ \text{(abschnittsweise konstant)}
\end{eqnarray}\end{split}\]</div>
<p>Da wir <span class="math notranslate nohighlight">\(a(t)\)</span> mittels der sog. Steuergröße <span class="math notranslate nohighlight">\(u(t)\)</span> vorgeben und dies damit die höchste Ableitung darstellt, haben wir es mit einem Modell 2. Ordnung zu tun. Die Größen <span class="math notranslate nohighlight">\(s(t), v(t), a(t)\)</span> beschreiben jeweils den momentanen Bewegungszustand des Objekts und werden deshalb auch als dessen Zustandsgrößen bezeichnet.</p>
<p>Da die Beschleunigung <span class="math notranslate nohighlight">\(a(t)\)</span> die zweite Ableitung des Weges <span class="math notranslate nohighlight">\(s(t)\)</span> darstellt, haben wir es hier mit einem Modell 2. Ordnung zu tun. Die Größen <span class="math notranslate nohighlight">\(s(t), v(t), a(t)\)</span> beschreiben jeweils den momentanen Bewegungszustand des Objekts und werden deshalb auch als dessen Zustandsgrößen bezeichnet. Die Größe <span class="math notranslate nohighlight">\(u(t)\)</span>, die wir vorgeben, wird als Steuergröße bezeichnet.</p>
<div class="admonition-anmerkung admonition">
<p class="admonition-title">Anmerkung</p>
<p>Die Steuergröße <span class="math notranslate nohighlight">\(u(t)\)</span>, die wir mittels unserer Tabelle als <span class="math notranslate nohighlight">\(\Delta a(t)\)</span> vorgeben ist physikalisch nicht ganz korrekt dargestellt. Die zeitliche Änderung der Beschleunigung <span class="math notranslate nohighlight">\(a(t)\)</span> bezeichnet man korrekt als Ruck <span class="math notranslate nohighlight">\(j(t)\)</span>, der sich eigentlich nicht sprunghaft ändern kann. Um aus diesem Programmierkurs keine Vorlesung über physikalische Modellierung zu machen, nutzen wir pragmatisch einfach die sprunghafte Änderung <span class="math notranslate nohighlight">\(\Delta a(t)\)</span> zu definierten Zeitpunkten.</p>
</div>
<p>Für die Anwendung im Rechner müssen wir das kontinuierliche Bewegungsmodell in ein sog. diskretes Bewegungsmodell überführen, da wir mit einem Digitalrechner nur in diskreten Zeitschritten rechnen können und nicht kontinuierlich.</p>
<ol class="arabic simple">
<li><p>Sei <span class="math notranslate nohighlight">\(t_k\)</span> ein beliebiger Zeitschritt und seien <span class="math notranslate nohighlight">\(s(t_k)\)</span>, <span class="math notranslate nohighlight">\(v(t_k)\)</span> und <span class="math notranslate nohighlight">\(a(t_k)\)</span> die entsprechenden Zustandsgrößen zu diesem Zeitpunkt.</p></li>
<li><p>Unter der Annahme, das <span class="math notranslate nohighlight">\(\Delta T\)</span> ein hinreichend kleines Zeitintervall sei und die Zustandsgrößen für die Dauer eines Zeitschritts als konstant angenommen werden können, ergeben sich die Zustandsgrößen für den Zeitpunkt <span class="math notranslate nohighlight">\(t_{k+1}\)</span> zu:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
  s(t_{k+1}) &amp;=&amp; s(t_{k}) + v(t_{k}) \cdot \Delta T + a(t_{k}) \cdot \frac{\Delta T^2}{2} \tag{5.1} \\
  v(t_{k+1}) &amp;=&amp; v(t_{k}) + a(t_{k}) \cdot \Delta T \tag{5.2} \\
  a(t_{k+1}) &amp;=&amp; a(t_{k}) + u(t_k) \tag{5.3}
\end{eqnarray}\end{split}\]</div>
<dl class="simple">
<dt>Anmerkung:</dt><dd><p>Bei der von uns angenommenen abschnittsweise konstanten Beschleunigung laut o.a. Tabelle, gilt dieses Modell jeweils innerhalb eines Intervalls. An jeder Intervallgrenze folgt ein Beschleunigungssprung und wir setzen die Berechnung prinzipiell in gleicher Weise fort, nur mit einem anderen &quot;konstanten“ Wert für <span class="math notranslate nohighlight">\(a(t_k)\)</span>.</p>
</dd>
</dl>
<div class="admonition-intuitive-erklarung-des-modells admonition">
<p class="admonition-title">Intuitive Erklärung des Modells</p>
<p>Das diskrete Modell lässt sich auf Basis des Grundwissens aus der Schulphysik plausibilisieren. Betrachten wir Gleichung (5.1), so stellt:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(s(t_k)\)</span> den zu Beginn des Intervalls erreichten Weg dar, mithin den Ausgangspunkt.</p></li>
<li><p><span class="math notranslate nohighlight">\(v(t_k) \cdot \Delta T\)</span> ist der Weganteil, der aufgrund von <span class="math notranslate nohighlight">\(v(t_k)\)</span> im Zeitraum <span class="math notranslate nohighlight">\(\Delta T\)</span> zurückgelegt wird.</p></li>
<li><p><span class="math notranslate nohighlight">\(a(t_k) \cdot \frac{\Delta T^2}{2}\)</span> ist der Weganteil, der aufgrund von <span class="math notranslate nohighlight">\(a(t_k)\)</span> im Zeitraum <span class="math notranslate nohighlight">\(\Delta T\)</span> zurückgelegt wird.</p></li>
</ul>
<p>Die Erklärungen für die Geschwindigkeit (Gleichung 5.2) und die Beschleunigung (Gleichung 5.3) erfolgen analog.</p>
<p>Es wird also einfach das bekannte Weg-Zeit-Gesetz für ein kleines Zeitintervall angewendet, wobei die Anfangsbedingungen mit einbezogen werden.</p>
</div>
<p>Wenn wir nun weiter die Zustandsgrößen in einem Vektor zusammenfassen</p>
<div class="math notranslate nohighlight">
\[\begin{split}\underline{x}(t_k) = \underline{x}_k = \left( \begin{array}{c} s(t_k) \\ v(t_k) \\ a(t_k) \end{array} \right)\end{split}\]</div>
<p>dann können wir die drei o.a. Gleichungen auch wie folgt darstellen:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\underline{x}_{k+1} = \left( \begin{array}{ccc}
                      1 &amp; \Delta T &amp; \Delta T^2 / 2 \\
                      0 &amp; 1        &amp; \Delta T \\
                      0 &amp; 0        &amp; 1
                      \end{array} \right) \cdot \underline{x}_{k} +
                      \left( \begin{array}{c} 0 \\ 0 \\ 1 \end{array} \right) \cdot u_k = \underline{A}  \cdot \underline{x}_{k} + \underline{b}  \cdot u_k\end{split}\]</div>
<p>Die Matrix <span class="math notranslate nohighlight">\(\underline{A}\)</span> wird als Systemmatrix und der Vektor <span class="math notranslate nohighlight">\(\underline{b}\)</span> als Steuervektor bezeichnet. Die Übereinstimmung mit den o.a. Gleichungen sollte offensichtlich sein (überprüfen!).</p>
<div class="admonition-to-do admonition">
<p class="admonition-title">To Do</p>
<p>Es ist ein Programm zu erstellen, dass:</p>
<ol class="arabic simple">
<li><p>die Beschleunigungswerte für mindestens 5 Zeitintervalle aus einer Datei einliest. (Die Datei ist ebenfalls selbst zu erstellen.)</p></li>
<li><p>unter Nutzung der <em>NumPy</em>-Bibliothek die o.a. Berechnung des Zustandsvektors <span class="math notranslate nohighlight">\(\underline{x}\)</span> über alle Zeitintervalle unter Annahme von <span class="math notranslate nohighlight">\(\Delta  T = 0.1s\)</span> implementiert.</p></li>
<li><p>die Verläufe für die Elemente von <span class="math notranslate nohighlight">\(x = (s, v, a)\)</span> sowie <span class="math notranslate nohighlight">\(u\)</span> mittels der <em>Matplotlib</em> untereinander in 4 einzelnen Subplots darstellt. (Grid, Achsenbezeichnungen, Legenden)</p></li>
<li><p>die verschiedenen Aufgaben sinnvoll in Funktionen gliedert, Meldungen an die Nutzer ausgibt und Kommentare enthält.</p></li>
</ol>
</div>
<p>Lösungshinweise:</p>
<ol class="arabic simple">
<li><p>Da die Lösung für jeden Zeitschritt vom vorherigen Zeitschritt abhängig ist, können wir hier nicht einfach alle Werte für die <span class="math notranslate nohighlight">\(\underline{x}_k\)</span> gleichzeitig berechnen, sondern müssen in einer Schleife darüber iterieren.</p></li>
<li><p>Da wir die Zeit <span class="math notranslate nohighlight">\(t\)</span> für die graphische Darstellung für alle Zeitschritte <span class="math notranslate nohighlight">\(k\)</span> benötigen, bietet es sich an, diese ebenfalls als <em>NumPy</em>-Array anzulegen und darüber zu iterieren.</p></li>
<li><p>Zum Lesen/Schreiben von tabellenartigen Dateien gibt es in <em>NumPy</em> die beiden Funktionen <em>loadtxt()/saveTxt()</em>, die direkt ein Array verarbeiten können.</p></li>
<li><p>Um den Vektor für <span class="math notranslate nohighlight">\(t\)</span> zu erzeugen bietet sich die <em>NumPy</em>-Funktion <em>np.arange()</em> besser an als die uns schon bekannte Funktion <em>np.linspace()</em>.</p></li>
<li><p>Auf <em>NumPy</em>-Arrays lässt sich ebenfalls durch <em>Slicing</em> auf Teilbereiche zugreifen - sowohl in eindimensionalen wie in mehrdimensionalen Arrays.</p></li>
<li><p>Da das Standardlayout sowie die Standardgröße des durch <em>Matplotlib</em> erzeugten Figure-Fensters meist eher ungünstig ist, empfiehlt es sich, diese selber vorzugeben. In der folgenden Beispielfunktion sehen wir außerdem, wie man auch auf dunklem Hintergrund plotten kann:</p></li>
</ol>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">def</span> <span class="nf">plot_dark</span><span class="p">():</span>
<span class="linenos"> 2</span>  <span class="c1"># Werte und Funktionen erzeugen</span>
<span class="linenos"> 3</span>  <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 4</span>  <span class="n">sin_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos"> 5</span>  <span class="n">cos_x</span> <span class="o">=</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>  <span class="c1"># mit der folgenden Anweisung ändern wir die Voreinstellungen zum Plotten</span>
<span class="linenos"> 8</span>  <span class="c1"># für den eingerückten Block auf &#39;dark_background&#39;</span>
<span class="hll"><span class="linenos"> 9</span>  <span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s1">&#39;dark_background&#39;</span><span class="p">):</span>
</span><span class="linenos">10</span>    <span class="c1"># figure anlegen</span>
<span class="linenos">11</span>    <span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="linenos">12</span>
<span class="linenos">13</span>    <span class="c1"># Größe des figure einstellen</span>
<span class="hll"><span class="linenos">14</span>    <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>   <span class="c1"># (figure_width, figure_height)</span>
</span><span class="linenos">15</span>    <span class="c1"># Layout auf &#39;tight&#39; (=schmaler Rand) setzen</span>
<span class="hll"><span class="linenos">16</span>    <span class="n">fig</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span class="linenos">17</span>
<span class="linenos">18</span>    <span class="c1"># dann plotten</span>
<span class="linenos">19</span>    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin_x</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="linenos">20</span>    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cos_x</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="linenos">21</span>    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="linenos">22</span>    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="linenos">23</span>    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;sin(x)&#39;</span><span class="p">,</span><span class="s1">&#39;1.5*cos(2*x)&#39;</span><span class="p">])</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>Hier noch ein Beispiel, wie das Ergebnis aussehen sollte, wenn wir die o.a. Beispieltabelle verwenden:</p>
<figure class="align-default" id="label-img-matplotlib-02">
<a class="reference internal image-reference" href="../_images/matplotlib_02.png"><img alt="../_images/matplotlib_02.png" src="../_images/matplotlib_02.png" style="width: 601.0px; height: 801.0px;" /></a>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="exercise_04.html" class="btn btn-neutral float-left" title="4. Übung" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="exercise_06.html" class="btn btn-neutral float-right" title="6. Übung" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Prof. Dr.-Ing. Volker von Holt - Fahrzeuginformatik - Ostfalia Hochschule.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>